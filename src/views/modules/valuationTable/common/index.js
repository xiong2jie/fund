/** 指数 */
const indexsRaw = {
  /** 盈利收益率 */
  ER: [
    {
      name: "名称：300价值",
      index: "指数：000919",
      ROE: "",
      lowValue: 16.6,
      underValue: 10,
      overValue: 6.4,
      highValue: 2.22,
      appraisement: 10.82,
      on: "场内：",
      over: "场外：519671",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
  ],
  /** 市盈率 */
  PE: [
    {
      name: "名称：中概互联(市销率)",
      index: "指数：H30533",
      ROE: "",
      lowValue: 4.2,
      underValue: 5.6,
      overValue: 8,
      highValue: 12.8,
      appraisement: 4.2,
      on: "场内：513050",
      over: "场外：006327",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：A股龙头",
      index: "指数：HSCAIT",
      ROE: "",
      lowValue: 8,
      underValue: 11,
      overValue: 13,
      highValue: 15,
      appraisement: 10.07,
      on: "场内：",
      over: "场外：540012",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：500增强",
      index: "指数：000905",
      ROE: "",
      lowValue: 17,
      underValue: 25,
      overValue: 40,
      highValue: 93,
      appraisement: 24.42,
      on: "场内：161017",
      over: "场外：161017",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：中证500",
      index: "指数：000905",
      ROE: "",
      lowValue: 17,
      underValue: 25,
      overValue: 40,
      highValue: 93,
      appraisement: 24.42,
      on: "场内：510580",
      over: "场外：160119",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：500低波动",
      index: "指数：930782",
      ROE: "",
      lowValue: 17,
      underValue: 24,
      overValue: 30,
      highValue: 60,
      appraisement: 23.9,
      on: "场内：512260",
      over: "场外：003318",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：沪港深消费50",
      index: "指数：931357",
      ROE: "",
      lowValue: 25,
      underValue: 33,
      overValue: 42,
      highValue: 56,
      appraisement: 32.7,
      on: "场内：",
      over: "场外：008519",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：中证医疗",
      index: "指数：399989",
      ROE: "",
      lowValue: 32,
      underValue: 55,
      overValue: 75,
      highValue: 140,
      appraisement: 56.12,
      on: "场内：512170",
      over: "场外：162412",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：消费红利",
      index: "指数：H30094",
      ROE: "",
      lowValue: 11,
      underValue: 25,
      overValue: 33,
      highValue: 45,
      appraisement: 25.69,
      on: "场内：",
      over: "场外：008928",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：生物科技",
      index: "指数：930743",
      ROE: "",
      lowValue: 33,
      underValue: 57,
      overValue: 81,
      highValue: 135,
      appraisement: 60.42,
      on: "场内：501009",
      over: "场外：501009",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：红利机会",
      index: "指数：CSPSADRP",
      ROE: "",
      lowValue: 8,
      underValue: 13,
      overValue: 20,
      highValue: 30,
      appraisement: 13.7,
      on: "场内：501029",
      over: "场外：501029",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：沪深300",
      index: "指数：000300",
      ROE: "",
      lowValue: 8,
      underValue: 11,
      overValue: 17,
      highValue: 49,
      appraisement: 13.83,
      on: "场内：510310",
      over: "场外：110020",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：竞争力指数",
      index: "指数：931142",
      ROE: "",
      lowValue: 10,
      underValue: 13,
      overValue: 18,
      highValue: 23,
      appraisement: 14.48,
      on: "场内：",
      over: "场外：007657",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：MSCI质量",
      index: "指数：707717",
      ROE: "",
      lowValue: 17,
      underValue: 26,
      overValue: 38,
      highValue: 55,
      appraisement: 30.86,
      on: "场内：",
      over: "场外：006341",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：深红利",
      index: "指数：399324",
      ROE: "",
      lowValue: 11,
      underValue: 15,
      overValue: 22,
      highValue: 44,
      appraisement: 15.52,
      on: "场内：159905",
      over: "场外：481012",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：科创50",
      index: "指数：000688",
      ROE: "",
      lowValue: 55,
      underValue: 50,
      overValue: 88,
      highValue: 100,
      appraisement: 79.73,
      on: "场内：588080",
      over: "场外：",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：医药100",
      index: "指数：000978",
      ROE: "",
      lowValue: 23,
      underValue: 28,
      overValue: 36,
      highValue: 63,
      appraisement: 31.37,
      on: "场内：",
      over: "场外：001550",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：深证成指",
      index: "指数：399001",
      ROE: "",
      lowValue: 11,
      underValue: 15,
      overValue: 30,
      highValue: 62,
      appraisement: 27.88,
      on: "场内：159943",
      over: "场外：163109",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：消费龙头",
      index: "指数：931068",
      ROE: "",
      lowValue: 16,
      underValue: 24,
      overValue: 32,
      highValue: 45,
      appraisement: 25.23,
      on: "场内：501090",
      over: "场外：501090",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：消费50",
      index: "指数：931139",
      ROE: "",
      lowValue: 16,
      underValue: 24,
      overValue: 32,
      highValue: 45,
      appraisement: 25.23,
      on: "场内：515650",
      over: "场外：008975",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：中证消费",
      index: "指数：000932",
      ROE: "",
      lowValue: 17,
      underValue: 30,
      overValue: 40,
      highValue: 53,
      appraisement: 31.61,
      on: "场内：159928",
      over: "场外：000248",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：中证养老",
      index: "指数：399812",
      ROE: "",
      lowValue: 17,
      underValue: 21,
      overValue: 27,
      highValue: 36,
      appraisement: 24.36,
      on: "场内：",
      over: "场外：000968",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：香港中小",
      index: "指数：SPHCMSHP",
      ROE: "",
      lowValue: 8.4,
      underValue: 12,
      overValue: 17,
      highValue: 20,
      appraisement: 16.36,
      on: "场内：501021",
      over: "场外：501021",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：家用电器",
      index: "指数：930697",
      ROE: "",
      lowValue: 12,
      underValue: 17,
      overValue: 20,
      highValue: 28,
      appraisement: 19.85,
      on: "场内：159996",
      over: "场外：005063",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：基本面120",
      index: "指数：399702",
      ROE: "",
      lowValue: 13,
      underValue: 18,
      overValue: 22,
      highValue: 60,
      appraisement: 24.36,
      on: "场内：159910",
      over: "场外：070023",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：食品饮料",
      index: "指数：930653",
      ROE: "",
      lowValue: 18,
      underValue: 30,
      overValue: 40,
      highValue: 65,
      appraisement: 39.95,
      on: "场内：",
      over: "场外：001631",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：基本面60",
      index: "指数：399701",
      ROE: "",
      lowValue: 12,
      underValue: 17,
      overValue: 20,
      highValue: 60,
      appraisement: 21.62,
      on: "场内：159916",
      over: "场外：530015",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：深证100",
      index: "指数：399330",
      ROE: "",
      lowValue: 12,
      underValue: 18,
      overValue: 24,
      highValue: 64,
      appraisement: 29.88,
      on: "场内：159901",
      over: "场外：161227",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：中证白酒",
      index: "指数：399997",
      ROE: "",
      lowValue: 15,
      underValue: 30,
      overValue: 40,
      highValue: 71,
      appraisement: 44.16,
      on: "场内：161725",
      over: "场外：161725",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：可选消费",
      index: "指数：000989",
      ROE: "",
      lowValue: 15,
      underValue: 18,
      overValue: 26,
      highValue: 45,
      appraisement: 30.2,
      on: "场内：159936",
      over: "场外：001133",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：创业板",
      index: "指数：399006",
      ROE: "",
      lowValue: 27,
      underValue: 25,
      overValue: 45,
      highValue: 138,
      appraisement: 61.63,
      on: "场内：159915",
      over: "场外：161022",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },

  ],
  /** 市净率 */
  PBV: [
    {
      name: "名称：地产行业",
      index: "指数：399393",
      ROE: "",
      lowValue: 1.3,
      underValue: 1.6,
      overValue: 2.2,
      highValue: 4,
      appraisement: 1.12,
      on: "场内：512200",
      over: "场外：160218",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：基建行业",
      index: "指数：399995",
      ROE: "",
      lowValue: 0.92,
      underValue: 1.1,
      overValue: 1.8,
      highValue: 3.6,
      appraisement: 1.05,
      on: "场内：",
      over: "场外：005223",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：银行行业",
      index: "指数：399986",
      ROE: "",
      lowValue: 0.75,
      underValue: 0.9,
      overValue: 1.15,
      highValue: 1.4,
      appraisement: 0.79,
      on: "场内：512800",
      over: "场外：001594",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：建筑材料",
      index: "指数：931009",
      ROE: "",
      lowValue: 1.4,
      underValue: 1.8,
      overValue: 2.1,
      highValue: 3.1,
      appraisement: 1.75,
      on: "场内：",
      over: "场外：004856",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：证券行业",
      index: "指数：399975",
      ROE: "",
      lowValue: 1.05,
      underValue: 1.6,
      overValue: 2.2,
      highValue: 4.8,
      appraisement: 1.63,
      on: "场内：512000",
      over: "场外：004069",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：军工行业",
      index: "指数：399967",
      ROE: "",
      lowValue: 2.1,
      underValue: 2.6,
      overValue: 4,
      highValue: 9.2,
      appraisement: 4.32,
      on: "场内：512680",
      over: "场外：161024",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：环保行业",
      index: "指数：000827",
      ROE: "",
      lowValue: 1.82,
      underValue: 2.3,
      overValue: 3,
      highValue: 5.9,
      appraisement: 4.52,
      on: "场内：512580",
      over: "场外：001064",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
  ],
  /** 海外市场 */
  OM: [
    {
      name: "名称：全球医疗",
      index: "指数：SPG120035",
      ROE: "",
      lowValue: 15,
      underValue: 21,
      overValue: 30,
      highValue: 45,
      appraisement: 29.02,
      on: "场内：",
      over: "场外：000369",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：美股消费",
      index: "指数：IXY",
      ROE: "",
      lowValue: 15,
      underValue: 21,
      overValue: 30,
      highValue: 45,
      appraisement: 36.19,
      on: "场内：162415",
      over: "场外：162415",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：标普科技",
      index: "指数：SSINFT",
      ROE: "",
      lowValue: 15,
      underValue: 21,
      overValue: 30,
      highValue: 90,
      appraisement: 31.52,
      on: "场内：161128",
      over: "场外：161128",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：纳斯达克100",
      index: "指数：NDX",
      ROE: "",
      lowValue: 15,
      underValue: 20,
      overValue: 30,
      highValue: 85,
      appraisement: 31.09,
      on: "场内：513100",
      over: "场外：513100",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
    {
      name: "名称：标普500",
      index: "指数：SPX",
      ROE: "",
      lowValue: 5.8,
      underValue: 15,
      overValue: 25,
      highValue: 44,
      appraisement: 25.52,
      on: "场内：513500",
      over: "场外：050025",
      singleRation: "",
      totalRation: "",
      downRation: "",
      upRation: "",
      level: "",
      boxStyle: { under: "", normal: "", over: "" },
      rangeStyle: { under: "", normal: "", over: "" },
      downStyle: "",
      upStyle: ""
    },
  ]
}

/** 判断指数当前所属区域 */
function indexsFuction() {
  let boxWidth = 3;
  const obj = indexsRaw;
  Object.keys(obj).forEach(key => {
    if (key === "ER") {
      // 1. 盈利收益率（百分比）
      obj[key].forEach(element => {
        // 低估区域长度
        let underRation =
          (boxWidth * (element.lowValue - element.appraisement)) /
          (element.lowValue - element.underValue);
        // 正常区域长度
        let normalRation =
          (boxWidth * (element.underValue - element.appraisement)) /
          (element.underValue - element.overValue);
        // 高估区域长度
        let overRation =
          (boxWidth * (element.overValue - element.appraisement)) /
          (element.overValue - element.highValue);
        if (element.appraisement > element.lowValue) {
          /** 1.低于历史区域样式 */
          // 1)低估区域
          //a.距离估值上涨或者下跌
          element.downRation = "低于历史";
          element.downStyle = "color: red; font-weight: bold"
          element.upRation = Number((element.appraisement - element.underValue) /
            (element.underValue) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 1;
          element.singleRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.underValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.highValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.under =
            "backgroundColor: #cbf5e9; width: " + boxWidth + "rem";
          element.rangeStyle.under = "width: 0rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ebf2fc";
          element.rangeStyle.normal = "width: 0rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement <= element.lowValue &&
          element.appraisement > element.underValue
        ) {
          /** 2.低估区域样式 */
          // 1)低估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.lowValue - element.appraisement) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = Number((element.appraisement - element.underValue) /
            (element.underValue) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 2;
          element.singleRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.underValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.highValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.under = "backgroundColor: #cbf5e9";
          element.rangeStyle.under =
            "backgroundColor: #19d6a0; width:" + underRation + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ebf2fc";
          element.rangeStyle.normal = "width: 0rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement <= element.underValue &&
          element.appraisement > element.overValue
        ) {
          /** 3.正常区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #fff2df";
          element.rangeStyle.under =
            "backgroundColor: #ffcb5d; width: " + boxWidth + "rem";
          // 2)正常区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.underValue) /
            (element.underValue) * 100).toFixed(2) + "%";
          element.upRation = Number((element.appraisement - element.overValue) /
            (element.overValue) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 3;
          element.singleRation = Number((element.underValue - element.appraisement) /
            (element.underValue - element.overValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.highValue) * 100).toFixed(2) + "%";
          //c.盒子颜色   
          element.boxStyle.normal = "backgroundColor: #fff2df";
          element.rangeStyle.normal =
            "backgroundColor: #ffcb5d; width:" + normalRation + "rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement <= element.overValue &&
          element.appraisement >= element.highValue
        ) {
          /** 4.高估区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #ffddde";
          element.rangeStyle.under =
            "backgroundColor: #ff6167; width: " + boxWidth + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ffddde";
          element.rangeStyle.normal =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";
          // 3)高估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.overValue) /
            (element.overValue) * 100).toFixed(2) + "%";
          element.upRation = Number((element.appraisement - element.highValue) /
            (element.highValue) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 4;
          element.singleRation = Number((element.overValue - element.appraisement) /
            (element.overValue - element.highValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.highValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.over = "backgroundColor: #ffddde";
          element.rangeStyle.over =
            "backgroundColor: #ff6167; width:" + overRation + "rem";

        } else {
          /** 5.高于历史区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #ffddde";
          element.rangeStyle.under =
            "backgroundColor: #ff6167; width: " + boxWidth + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ffddde";
          element.rangeStyle.normal =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";
          // 3)高估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.overValue) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = "高于历史";
          //b.区域百分比和历史百分比
          element.level = 5;
          element.singleRation = Number((element.overValue - element.appraisement) /
            (element.overValue - element.highValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.lowValue - element.appraisement) /
            (element.lowValue - element.highValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.over = "backgroundColor: #ffddde";
          element.rangeStyle.over =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";

        }

      })
    } else {
      // 2.市盈率、市净率、市销率
      obj[key].forEach(element => {
        // 低估区域长度
        let underRation =
          (boxWidth * (element.appraisement - element.lowValue)) /
          (element.underValue - element.lowValue);
        // 正常区域长度
        let normalRation =
          (boxWidth * (element.appraisement - element.underValue)) /
          (element.overValue - element.underValue);
        // 高估区域长度
        let overRation =
          (boxWidth * (element.appraisement - element.overValue)) /
          (element.highValue - element.overValue);
        if (element.appraisement < element.lowValue) {
          /** 1.低于历史区域样式 */
          // 1)低估区域
          //a.距离估值上涨或者下跌
          element.downRation = "低于历史";
          element.downStyle = "color: red; font-weight: bold"
          element.upRation = Number((element.underValue - element.appraisement) /
            (element.appraisement) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 1;
          element.singleRation = Number((element.appraisement - element.lowValue) /
            (element.underValue - element.lowValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.appraisement - element.lowValue) /
            (element.highValue - element.lowValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.under =
            "backgroundColor: #cbf5e9; width: " + boxWidth + "rem";
          element.rangeStyle.under = "width: 0rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ebf2fc";
          element.rangeStyle.normal = "width: 0rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement >= element.lowValue &&
          element.appraisement < element.underValue
        ) {
          /** 2.低估区域样式 */
          // 1)低估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.lowValue) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = Number((element.underValue - element.appraisement) /
            (element.appraisement) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 2;
          element.singleRation = Number((element.appraisement - element.lowValue) /
            (element.underValue - element.lowValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.appraisement - element.lowValue) /
            (element.highValue - element.lowValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.under = "backgroundColor: #cbf5e9";
          element.rangeStyle.under =
            "backgroundColor: #19d6a0; width:" + underRation + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ebf2fc";
          element.rangeStyle.normal = "width: 0rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement >= element.underValue &&
          element.appraisement < element.overValue
        ) {
          /** 3.正常区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #fff2df";
          element.rangeStyle.under =
            "backgroundColor: #ffcb5d; width: " + boxWidth + "rem";
          // 2)正常区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.underValue) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = Number((element.overValue - element.appraisement) /
            (element.appraisement) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 3;
          element.singleRation = Number((element.appraisement - element.underValue) /
            (element.overValue - element.underValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.appraisement - element.lowValue) /
            (element.highValue - element.lowValue) * 100).toFixed(2) + "%";
          //c.盒子颜色   
          element.boxStyle.normal = "backgroundColor: #fff2df";
          element.rangeStyle.normal =
            "backgroundColor: #ffcb5d; width:" + normalRation + "rem";
          // 3)高估区域
          element.boxStyle.over = "backgroundColor: #ebf2fc";
          element.rangeStyle.over = "width: 0rem";

        } else if (
          element.appraisement >= element.overValue &&
          element.appraisement <= element.highValue
        ) {
          /** 4.高估区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #ffddde";
          element.rangeStyle.under =
            "backgroundColor: #ff6167; width: " + boxWidth + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ffddde";
          element.rangeStyle.normal =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";
          // 3)高估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.overValue) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = Number((element.highValue - element.appraisement) /
            (element.appraisement) * 100).toFixed(2) + "%";
          //b.区域百分比和历史百分比
          element.level = 4;
          element.singleRation = Number((element.appraisement - element.overValue) /
            (element.highValue - element.overValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.appraisement - element.lowValue) /
            (element.highValue - element.lowValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.over = "backgroundColor: #ffddde";
          element.rangeStyle.over =
            "backgroundColor: #ff6167; width:" + overRation + "rem";

        } else {
          /** 5.高于历史区域样式 */
          // 1)低估区域
          element.boxStyle.under = "backgroundColor: #ffddde";
          element.rangeStyle.under =
            "backgroundColor: #ff6167; width: " + boxWidth + "rem";
          // 2)正常区域
          element.boxStyle.normal = "backgroundColor: #ffddde";
          element.rangeStyle.normal =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";
          // 3)高估区域
          //a.距离估值上涨或者下跌
          element.downRation = Number((element.appraisement - element.overValue) /
            (element.appraisement) * 100).toFixed(2) + "%";
          element.upRation = "高于历史";
          //b.区域百分比和历史百分比
          element.level = 5;
          element.singleRation = Number((element.appraisement - element.overValue) /
            (element.highValue - element.overValue) * 100).toFixed(2) + "%";
          element.totalRation = Number((element.appraisement - element.lowValue) /
            (element.highValue - element.lowValue) * 100).toFixed(2) + "%";
          //c.盒子颜色
          element.boxStyle.over = "backgroundColor: #ffddde";
          element.rangeStyle.over =
            "backgroundColor: #ff6167; width:" + boxWidth + "rem";

        }

      })
    }
  })

  return obj;
}

/** 估值排序：
 * 1）先按低估、正常和高估排序
 * 2）区域百分比
 */
function valuationRanking() {
  const obj = indexsFuction();
  Object.keys(obj).forEach(key => {
    let i, j, tmp
    for (i = 0; i < obj[key].length - 1; i++) {
      for (j = 0; j < obj[key].length - i - 1; j++) {
        if (obj[key][j].level > obj[key][j + 1].level) {
          tmp = obj[key][j];
          obj[key][j] = obj[key][j + 1];
          obj[key][j + 1] = tmp;
        }
      }
    }
  })
  Object.keys(obj).forEach(key => {
    let i, j, tmp
    for (i = 0; i < obj[key].length - 1; i++) {
      for (j = 0; j < obj[key].length - i - 1; j++) {
        if (obj[key][j].level == obj[key][j + 1].level && parseFloat(obj[key][j].singleRation) > parseFloat(obj[key][j + 1].singleRation)) {
          console.log("typeof", typeof(obj[key][j].singleRation));
          tmp = obj[key][j];
          obj[key][j] = obj[key][j + 1];
          obj[key][j + 1] = tmp;
        }
      }
    }
  })
  return obj;
}

export const indexsRipe = valuationRanking()